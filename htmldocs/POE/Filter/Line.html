<HTML>
<HEAD>
<TITLE><A HREF=/docs/POE/Filter/Line.html>POE::Filter::Line</A> - filter data as lines</TITLE>
<LINK REV="made" HREF="mailto:">
</HEAD>

<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD WIDTH="30">
<img HSPACE="0" VSPACE="0" border="0" src="/images/L-circle.jpg" align="left" alt="" width="30" height="60">
</TD><TD ALIGN="Center" WIDTH=100% BGCOLOR="#000000">
<STRONG><font color="#FFFFFF" size="5"><A HREF=/docs/POE/Filter/Line.html>POE::Filter::Line</A> - filter data as lines</font></STRONG></TD><TD>
<img HSPACE="0" VSPACE="0" border="0" src="/images/R-circle.jpg" align="right" alt="" width="30" height="60">
</TD></TR></TABLE>

<A NAME="__index__"></A>
<!-- INDEX BEGIN -->

<UL>

	<LI><A HREF="#name">NAME</A></LI>
	<LI><A HREF="#synopsis">SYNOPSIS</A></LI>
	<LI><A HREF="#description">DESCRIPTION</A></LI>
	<LI><A HREF="#public filter methods">PUBLIC FILTER METHODS</A></LI>
	<LI><A HREF="#see also">SEE ALSO</A></LI>
	<LI><A HREF="#bugs">BUGS</A></LI>
	<LI><A HREF="#authors & copyrights">AUTHORS &amp; COPYRIGHTS</A></LI>
</UL>
<!-- INDEX END -->

<HR>
<P>
<H1><A NAME="name">NAME</A></H1>
<P><A HREF=/docs/POE/Filter/Line.html>POE::Filter::Line</A> - filter data as lines</P>
<P>
<HR>
<H1><A NAME="synopsis">SYNOPSIS</A></H1>
<PRE>
  $filter = <A HREF=/docs/POE/Filter/Line.html>POE::Filter::Line</A>-&gt;new();
  $arrayref_of_lines =
    $filter-&gt;get($arrayref_of_raw_chunks_from_driver);
  $arrayref_of_streamable_chunks_for_driver =
    $filter-&gt;put($arrayref_of_lines);
  $arrayref_of_leftovers =
    $filter-&gt;get_pending();</PRE>
<PRE>
  # Use a literal newline terminator for input and output:
  $filter = <A HREF=/docs/POE/Filter/Line.html>POE::Filter::Line</A>-&gt;new( Literal =&gt; &quot;\x0D\x0A&quot; );</PRE>
<PRE>
  # Terminate input lines with a string regexp:
  $filter = <A HREF=/docs/POE/Filter/Line.html>POE::Filter::Line</A>-&gt;new( InputRegexp   =&gt; '[!:]',
                                    OutputLiteral =&gt; &quot;!&quot;
                                  );</PRE>
<PRE>
  # Terminate input lines with a compiled regexp (requires perl 5.005
  # or newer):
  $filter = <A HREF=/docs/POE/Filter/Line.html>POE::Filter::Line</A>-&gt;new( InputRegexp   =&gt; qr/[!:]/,
                                    OutputLiteral =&gt; &quot;!&quot;
                                  );</PRE>
<PRE>
  # Autodetect the input line terminator:
  $filter = <A HREF=/docs/POE/Filter/Line.html>POE::Filter::Line</A>-&gt;new( InputLiteral =&gt; undef );</PRE>
<P>
<HR>
<H1><A NAME="description">DESCRIPTION</A></H1>
<P>The Line filter translates streams to and from separated lines.  The
lines it returns do not include the line separator (usually newlines).
Neither should the lines given to it.</P>
<P>Incoming newlines are recognized with a simple regular expression by
default: <CODE>/(\x0D\x0A?|\x0A\x0D?)/</CODE>.  This regexp encompasses all the
variations of CR and/or LF, but it has a race condition.</P>
<P>Consider a CRLF newline is broken into two stream chunks, one which
ends with CR and the other which begins with LF:</P>
<PRE>
   some stream dataCR
   LFother stream data</PRE>
<P>The default regexp will recognize the CR as one end-of-line marker and
the LF as another.  The line filter will emit two lines: ``some stream
data'' and a blank line.  <STRONG>People are advised to specify custom
literal newlines or autodetect the newline style in applications where
blank lines are significant.</STRONG></P>
<P>Outgoing lines have traditional network newlines (CRLF) appended to
them by default.</P>
<P>
<HR>
<H1><A NAME="public filter methods">PUBLIC FILTER METHODS</A></H1>
<P>Please see <A HREF=/docs/POE/Filter.html>POE::Filter</A>.</P>
<P>
<HR>
<H1><A NAME="see also">SEE ALSO</A></H1>
<P><A HREF=/docs/POE/Filter.html>POE::Filter</A>.</P>
<P>The <A HREF=/docs/POE.html#see also>SEE ALSO section in <EM>POE</EM></A> contains a table of contents covering
the entire POE distribution.</P>
<P>
<HR>
<H1><A NAME="bugs">BUGS</A></H1>
<P>The default input newline regexp has a race condition where incomplete
newlines can generate spurious blank input lines.</P>
<P>
<HR>
<H1><A NAME="authors & copyrights">AUTHORS &amp; COPYRIGHTS</A></H1>
<P>Please <A HREF=/docs/POE.html>see <EM>POE</EM></A> for more information about authors and contributors.</P>

</BODY>

</HTML>
